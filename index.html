<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Abrox ‚Äì Profit Hunters Chat</title>

  <!-- External CSS -->
  <link rel="stylesheet" href="widget.css" />

  <!-- Minimal critical styles -->
  <style>
    :root{
      --tg-header-height:56px;
      --tg-avatar-size:36px;
      --tg-title-size:15px; /* Corrected Telegram header font size */
      --tg-meta-size:13px;
      --tg-input-height:42px; /* floating pill height */
      --tg-input-radius:22px; /* pill shape */
      --tg-send-size:36px;
      --tg-icon-size:20px;
      --tg-gap:10px;
    }

    html,body{height:100dvh;margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica Neue,Arial;}
    .hidden{display:none!important;}

    #tg-comments-app{
      display:flex;
      flex-direction:column;
      height:100dvh;
      background:#0e1621; /* dark theme bg */
      color:#fff;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* Header */
    .tg-header{
      height:var(--tg-header-height);
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:0 14px;
      border-bottom:1px solid rgba(255,255,255,0.05);
      background:#17212b;
      position:sticky;
      top:0;
      z-index:20;
    }
    .tg-back-btn,.tg-options-btn{
      width:40px;height:40px;
      display:flex;align-items:center;justify-content:center;
      background:none;border:none;cursor:pointer;
      font-size:var(--tg-icon-size);color:#fff;
    }
    .tg-header-center{
      display:flex;align-items:center;gap:var(--tg-gap);flex:1;margin:0 12px;min-width:0;
    }
    .tg-header-avatar{
      width:var(--tg-avatar-size);height:var(--tg-avatar-size);
      border-radius:50%;object-fit:cover;flex-shrink:0;
    }
    .tg-header-info{display:flex;flex-direction:column;justify-content:center;min-width:0;}
    .tg-title{
      font-size:var(--tg-title-size);font-weight:500;color:#fff; /* Telegram header weight */
      line-height:1.2;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
    }
    .tg-meta{
      font-size:var(--tg-meta-size);color:#7f8fa4;margin-top:2px;
      white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
    }

    /* Pin banner */
    .tg-pin-banner{display:flex;align-items:center;gap:8px;padding:8px 12px;background:#1f2c3a;border-left:3px solid #2ea6ff;font-size:13px;}
    .tg-pin-banner.hidden{display:none;}

    /* Comments container */
    .tg-comments-container{
      flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;padding:12px 6px;position:relative;
    }
    .tg-comments-container::after{content:"";display:block;height:calc(var(--tg-input-height)+44px);}

    /* New messages jump pill */
    #tg-jump-indicator{
      position:fixed;left:50%;transform:translateX(-50%);
      bottom:calc(var(--tg-input-height)+64px);background:#2ea6ff;color:white;
      padding:6px 12px;border-radius:18px;font-size:13px;display:flex;align-items:center;gap:8px;
      box-shadow:0 6px 18px rgba(0,0,0,.12);z-index:999;
    }
    #tg-jump-indicator.hidden{display:none;}

    /* Input wrapper floating pill */
    .tg-input-wrapper{
      position:fixed;bottom:12px;left:50%;transform:translateX(-50%);
      padding:0 12px;height:var(--tg-input-height);border-radius:var(--tg-input-radius);
      background:#17212b;display:flex;align-items:center;gap:8px;z-index:50;width:calc(100% - 24px);
      max-width:600px;box-shadow:0 2px 12px rgba(0,0,0,.4);
    }
    .tg-input-bar{display:flex;align-items:center;flex:1;gap:8px;}
    .tg-comment-input{
      flex:1;height:100%;border-radius:var(--tg-input-radius);
      border:none;padding:0 12px;font-size:15px;background:#0e1621;color:#fff;outline:none;
    }
    .tg-comment-input::placeholder{color:#7f8fa4;}
    .tg-send-btn{width:var(--tg-send-size);height:var(--tg-send-size);border-radius:50%;background:#2ea6ff;color:#fff;border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;}
    .tg-icon-btn{background:none;border:none;padding:6px;cursor:pointer;width:36px;height:36px;display:flex;align-items:center;justify-content:center;color:#7f8fa4;}

  </style>
</head>
<body>

<div id="tg-comments-app">

  <!-- Header -->
  <header class="tg-header">
    <button class="tg-back-btn" aria-label="Back"><i data-lucide="arrow-left"></i></button>

    <div class="tg-header-center">
      <img src="assets/logo.jpg" alt="Profit Hunters Logo" class="tg-header-avatar" />
      <div class="tg-header-info">
        <div class="tg-title">üåê Profit Hunters Chat</div>
        <div class="tg-meta" id="tg-meta-line">1,284 members, 128 online</div>
      </div>
    </div>

    <button class="tg-options-btn" aria-label="Options"><i data-lucide="more-vertical"></i></button>
  </header>

  <!-- Pin banner -->
  <div id="tg-pin-banner" class="tg-pin-banner hidden"></div>

  <!-- Comments container -->
  <main id="tg-comments-container" class="tg-comments-container"></main>

  <!-- Jump indicator -->
  <div id="tg-jump-indicator" class="hidden">
    <i data-lucide="chevron-down"></i>
    <span>New messages</span>
  </div>

  <!-- Input bar -->
  <div class="tg-input-wrapper">
    <div class="tg-input-bar">
      <button id="tg-emoji-btn" class="tg-icon-btn"><i data-lucide="smile"></i></button>
      <input type="text" id="tg-comment-input" class="tg-comment-input" placeholder="Message‚Ä¶" autocomplete="off" />
      <button id="tg-camera-btn" class="tg-icon-btn"><i data-lucide="camera"></i></button>
      <button id="tg-send-btn" class="tg-send-btn hidden"><i data-lucide="send"></i></button>
    </div>
  </div>

</div>

<!-- Lucide icons -->
<script src="https://unpkg.com/lucide@latest"></script>
<script>lucide.createIcons();</script>

<!-- Modular JS -->
<script src="identity-personas.js"></script>
<script src="bubble-renderer.js"></script>
<script src="realism-engine-v11.js"></script>
<script src="interactions.js"></script>
<script src="app.js"></script>

</body>
</html>
